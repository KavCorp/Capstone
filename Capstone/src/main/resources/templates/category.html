<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en">

    <title th:text="${thisCategory.categoryName}">Category Name</title>


</head>
<body>
<!--<div th:replace="fragments/header :: header">...</div>  -->
<div class="container">


    <h2 th:text="${thisCategory.categoryName}"></h2>
        <div>
            <form class="form-horizontal" action="#" th:action="@{/category/__${thisCategory.categoryName}__}">
            <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/> 
            <fieldset>
            	<legend>Category Details</legend>
                <div class="form-group">
                    <a th:text="'Category Id: '"></a><a class="form-control-static" th:text="${thisCategory.categoryId}">Category ID</a></div>
                <div class="form-group">
                    <a th:text="'Parent Category: '"></a><a th:if="${thisCategory.parentCategory!= null}" class="form-control-static" th:text="${thisCategory.parentCategory.getCategoryName()}">Parent Category</a>
                </div>
                 <div class="form-group">
                    <a th:text="'Category Name: '"></a><a class="form-control-static" th:text="${thisCategory.categoryName}">Category Name</a>
                </div>
                <div class="form-group">
                    <a th:text="'Description: '"></a><a class="form-control-static" th:text="${thisCategory.description}">Description</a>
                </div>
                <div class="form-group">
                    <a th:text="'Visible: '"></a><a class="form-control-static" th:text="${thisCategory.visible}">Visible</a>
                </div>
           	
           	<fieldset th:if="${!thisCategory.getPage().isEmpty()}">
           	<legend>Pages</legend>
           	<table  class="table table-striped">
           		<tr>
           			<th></th>
           			<th>Page Id</th>
           			<th>Page Name</th>
           			<th>Visible</th>
           		</tr>
           		<tr th:each="page : ${thisCategory.page}">
          			<td><input type="radio" name="selected" id="selected" th:value="${page.pageId}"></input></td>
           			<td th:text="${page.pageId}"></td>
               		<td th:text="${page.pageName}"></td>
               		<td th:text="${page.Visible}"></td>
           		</tr>
           	</table>
           	<button type="submit" 
				    th:formmethod="post" th:text="'Delete Page'">Delete page</button>
			<button type="submit" th:formaction="@{/category/__${thisCategory.categoryName}__/update}"
				    th:formmethod="get" th:text="'Update Page'">Update Category</button>
           	</fieldset>
           	</fieldset>
            </form>
            
            <form action="#" th:action="@{/category/__${thisCategory.categoryName}__}" th:object="${savePage}" method="post">
            <fieldset>
		    	<legend th:text="${fieldSetText}"></legend>
		    	<input type="hidden" th:field="*{pageId}"></input>
		    	<input type="hidden" th:value="${thisCategory.categoryId}" id="category" name="category"></input>
		    	<label th:text="'Page Name:'">Page Name</label>
		    	<input type="text" th:field="*{pageName}"></input>
		    	<br/>
		    	<label th:text="'Visible:'">Visible</label>
		    	<input type="checkbox" th:field="*{visible}" th:value="'true'"></input>
		    	<br/>
		    	<button type="submit" name="savePage" 
		    		th:text="'Save Page'">Save Category</button>
	    
	    	</fieldset>
            
            
            
            </form>
    	</div>
</div>

</body>
</html>